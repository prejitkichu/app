"use strict";(self.webpackChunk_predelax_app=self.webpackChunk_predelax_app||[]).push([[349],{43349:(e,t,o)=>{o.r(t),o.d(t,{MasterUpload:()=>E,default:()=>N});var r=o(2867),l=o(74850),a=o(2784),n=o(18671),i=o(32930),s=o(63955),d=o(34149),c=o(73557),u=o(15271),p=o(9699),m=o(24082),x=o(48553),f=o(36172),h=(0,d.ZP)(l.kC).attrs({flexDirection:["column","row","row","row"],left:["0px","auto","auto","auto"],padding:["0px 15px","auto","auto","auto"]}).withConfig({displayName:"BottomBar",componentId:"sc-167snte-0"})(["position:fixed;bottom:0px;gap:16px;width:100%;padding-bottom:20px;background-color:#fff;z-index:1;"]),g=[{code:"ER",codeDesc:"Entity Register"},{code:"RM",codeDesc:"User Profile master"},{code:"CE",codeDesc:"Customer Master"}],v="Entity Register",w="User Profile master",U=["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel"],j=o(52322),b=(0,d.ZP)(l.kC).withConfig({displayName:"MasterUpload__Wrapper",componentId:"sc-1uv3ljz-0"})(["max-width:440px;flex-direction:column;"]),_=d.ZP.div.withConfig({displayName:"MasterUpload__StyledFlex",componentId:"sc-1uv3ljz-1"})(["border:1px solid ",";border-radius:0.5rem;height:4rem;width:15rem;display:flex;justify-content:center;align-items:center;"],(function(e){return e.theme.colors.gray.$c1c8d1})),D=(0,d.ZP)(l.kC).withConfig({displayName:"MasterUpload__LinkText",componentId:"sc-1uv3ljz-2"})(["display:inline-block;color:",";margin-left:10px;text-decoration:underline;font-size:9px;&:hover{cursor:pointer;}"],(function(e){return e.theme.colors.blue.$0e4c8d})),E=function(){var e=(0,i.h)(f.s),t=(0,c.s0)(),o=(0,m.I0)(),d=(0,a.useState)([]),E=(0,r.Z)(d,2),N=E[0],C=E[1],R=(0,a.useState)(""),k=(0,r.Z)(R,2),L=k[0],y=k[1],M=p.Ry().shape({masterUpload:p.Z_().trim().required(e(f.N.lbl_field_required))}),q=(0,m.v9)((function(e){return{fileUploaded:e.masterUpload.fileUploaded||!1,fileUploadedDetails:e.masterUpload.fileUploadedDetails}})),F=q.fileUploaded,Z=q.fileUploadedDetails,I=(0,s.cI)({defaultValues:{masterUpload:"",fileUploaded:!1},mode:"onBlur",resolver:(0,u.X)(M)}),S=I.handleSubmit,P=I.formState,T=I.control,z=I.getValues,A=P.errors,B=function(){o(x.Nw.exchangeRateUploadDocumentReset()),o(x.Nw.rateMasterUploadDocumentReset()),o(x.Nw.customerEmailUploadDocumentReset())};(0,a.useEffect)((function(){var e=(g||[]).map((function(e){return{label:e.codeDesc,value:e.codeDesc}}));return C(e),function(){B()}}),[]),(0,a.useEffect)((function(){B()}),[L]);var V=(0,m.v9)((function(e){return{isLoading:e.request.exchangeRateExportData.isLoading||e.request.rateMasterExportData.isLoading||e.request.customerEmailExportData.isLoading||e.request.exchangeRateUploadDocument.isLoading||e.request.rateMasterUploadDocument.isLoading||e.request.customerEmailUploadDocument.isLoading||e.request.exchangeRateExportFailureReport.isLoading||e.request.rateMasterExportFailureReport.isLoading||e.request.customerEmailExportFailureReport.isLoading}})).isLoading,Q=function(){throw new Error("Function not implemented.")},$=function(){throw new Error("Function not implemented.")};return(0,j.jsxs)(b,{as:"form",onSubmit:S((function(){})),children:[(0,j.jsx)(n.q,{children:(0,j.jsxs)("title",{children:[e(f.N.lbl_app_name)," -"," ",e(f.N.lbl_master_upload)," -"," ",e(f.N.lbl_bulk_upload)]})}),V&&(0,j.jsx)(l.wY,{}),(0,j.jsxs)(l.xv,{renderAs:"h3",withTheme:"primary-alt",mb:"10px",children:[e(f.N.lbl_master_upload)," -"," ",e(f.N.lbl_bulk_upload)]}),(0,j.jsxs)(l.kC,{mt:"20px",width:"fit-content",flexDirection:"column",children:[(0,j.jsxs)(l.kC,{flexDirection:"row",alignItems:"center",children:[(0,j.jsx)(l.LZ,{mr:["0px","0px","30px","30px"],mb:["20px","20px","0px","0px"],children:(0,j.jsx)(s.Qr,{control:T,name:"masterUpload",render:function(t){var o,r,a=t.field;return(0,j.jsx)(l.Lt,{field:a,options:N,dropdownLabel:e(f.N.lbl_master_upload),width:"250px",onSelected:function(e){a.onChange(null==e?void 0:e.value),y(null==e?void 0:e.value)},errorMessage:(null==A?void 0:A.masterUpload)&&(null==A||null===(o=A.masterUpload)||void 0===o?void 0:o.message),selectedValue:{label:z("masterUpload"),value:z("masterUpload")},isValid:(null===(r=z("masterUpload"))||void 0===r?void 0:r.length)>0&&!(null!=A&&A.masterUpload),isRequired:!0,allowSearch:!0})}})}),(null==L?void 0:L.length)>0&&(0,j.jsx)(D,{onClick:function(){o(L===v?x.Nw.exchangeRateExportData():L===w?x.Nw.rateMasterExportData():x.Nw.customerEmailExportData())},children:e(f.N.Ibl_download_master_data)})]}),(null==L?void 0:L.length)>0&&(0,j.jsx)(l.kC,{mt:"20px",children:(0,j.jsxs)(_,{children:[(0,j.jsx)(l.LZ,{mx:"1rem",width:"6rem",children:(0,j.jsx)(l.xv,{renderAs:"p-small",withTheme:"dark",mb:".3rem",children:"Upload File"})}),(0,j.jsx)(l.LZ,{children:(0,j.jsx)(s.Qr,{control:T,name:"fileUploaded",render:function(){var e;return(0,j.jsx)(l.p0,{acceptedFileTypes:U,fileName:"",onUpload:function(e){!function(e){o(L===v?x.Nw.exchangeRateUploadDocument({file:e}):L===w?x.Nw.rateMasterUploadDocument({file:e}):x.Nw.customerEmailUploadDocument({file:e}))}(e)},errorMessage:null==A||null===(e=A.fileUploaded)||void 0===e?void 0:e.message,progressBarHidden:!0,onRemove:Q,isUploaded:!1,isDisabled:!1,onDownload:$})}})})]})})]}),(0,j.jsx)(l.kC,{mt:"20px",children:F&&(0,j.jsxs)(l.kC,{flexDirection:"column",children:[(0,j.jsxs)(l.xv,{renderAs:"h5",mb:"5px",children:["Total Processed - ",null==Z?void 0:Z.totalCounts," records"]}),(null==Z?void 0:Z.successCounts)>0&&(0,j.jsxs)(l.xv,{renderAs:"h5",mb:"5px",withTheme:"status-green",children:["Successful - ",null==Z?void 0:Z.successCounts," records"]}),(null==Z?void 0:Z.failedCounts)&&(0,j.jsxs)(l.xv,{renderAs:"h5",mb:"5px",withTheme:"status-red",children:["Rejected - ",null==Z?void 0:Z.failedCounts," records",(0,j.jsx)(D,{onClick:function(){o(L===v?x.Nw.exchangeRateExportFailureReport():L===w?x.Nw.rateMasterExportFailureReport():x.Nw.customerEmailExportFailureReport())},children:e(f.N.Ibl_download_rejected_record)})]})]})}),(0,j.jsx)(h,{children:(0,j.jsx)(l.zx,{variant:"secondary",onClick:function(){return t(-1)},children:e(f.N.lbl_cancel)})}),(0,j.jsx)(c.j3,{})]})};const N=E}}]);